@page
@model ScheduleModel
@{
    ViewData["Title"] = "Schedule page";
}


<div class="row d-flex justify-content-center">

<div class="col-12 col-md-8">
    <h1 class="display-4 text-center">Schedule</h1>
    <p class="text-center">Weekly Waiter's Shifts</p>

    @if(TempData["success"] != null )
    {
        <div class="clear-pop bg-success w-50 text-center rounded my-1 p-1">@TempData["success"]</div>
        <script type="text/javascript">
            const clearPop = document.querySelector(".clear-pop");
            
            setTimeout(() => {
                clearPop.style.visibility = "hidden";   
            }, 3000);

        </script>
    }

    <table class="table table-borderless bg-light rounded">
        <thead>
            <tr class="text-center">
                <th style="width: 25%;"><i class="bi bi-calendar-event-fill"></i></th>
                <th style="width: 25%;"><i class="bi bi-person-badge-fill"></i></th>
                <th style="width: 25%;"><i class="bi bi-person-badge-fill"></i></th>
                <th style="width: 25%;"><i class="bi bi-person-badge-fill"></i></th>
            </tr>
        </thead>
        <tbody>
            @foreach (var day in Model.weekdays)
            {
                <tr>
                    <td><h5>@day</h5></td>
                    @foreach (var group in Model.Schedule)
                    {
                        if(@group.Key == day)
                        {
                            @foreach (var waiter in group)
                            {
                                <td class="text-center">@waiter.FirstName</td>
                            }
                        }
                    }
                </tr>
            }
        </tbody>
    </table>
    <form asp-page-handler="clear" method="post" onclick="return confirm('Are you sure you want to clear schedule')">
        <button class="btn btn-danger">Clear Schedule</button>
    </form>
</div>
</div>
 